{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Run Backend API",
      "type": "java",
      "request": "launch",
      "mainClass": "com.br.puc.carona.CaronaApplication",
      "projectName": "carona",
      "cwd": "${workspaceFolder}/backend",
      "envFile": "${workspaceFolder}/backend/.env",
      "preLaunchTask": "Start MySQL Database",
      "presentation": {
        "hidden": false,
        "group": "carona",
        "order": 1
      }
    },
    {
      "name": "Run Ngrok + API Update",
      "type": "node-terminal",
      "request": "launch",
      "command": "./run-ngrok-update-api.sh",
      "cwd": "${workspaceFolder}/backend",
      "presentation": {
        "hidden": false,
        "group": "carona",
        "order": 2
      }
    },
    {
      "name": "Run Mobile",
      "type": "node-terminal",
      "request": "launch",
      "command": "yarn start --tunnel",
      "cwd": "${workspaceFolder}/frontEnd",
      "presentation": {
        "hidden": false,
        "group": "carona",
        "order": 3
      }
    },
    {
      "name": "Run Frontend Web",
      "type": "node-terminal",
      "request": "launch",
      "command": "npm run dev",
      "cwd": "${workspaceFolder}/frontEndWeb",
      "presentation": {
        "hidden": false,
        "group": "carona",
        "order": 4
      }
    },
    {
      "name": "Prompt for Frontend Web",
      "type": "node-terminal",
      "request": "launch",
      "command": "${input:runFrontendWebPrompt}",
      "presentation": {
        "hidden": false,
        "group": "carona",
        "order": 5
      }
    }
  ],
  "compounds": [
    {
      "name": "Run App",
      "configurations": [
        "Run Backend API",
        "Run Ngrok + API Update",
        "Run Mobile",
        "Prompt for Frontend Web"
      ],
      "presentation": {
        "hidden": false,
        "group": "carona",
        "order": 2
      },
      "stopAll": true
    }
  ],
  "inputs": [
    {
      "id": "runFrontendWebPrompt",
      "type": "pickString",
      "description": "Do you want to run the Frontend Web?",
      "options": [
        {
          "label": "Yes",
          "value": "cd ${workspaceFolder}/frontEndWeb && npm run dev"
        },
        {
          "label": "No",
          "value": "echo 'Skipping Frontend Web'"
        }
      ],
      "default": "No"
    }
  ]
}